{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iskandar\\\\Downloads\\\\CZ4013Proj\\\\client\\\\src\\\\pages\\\\Deposit.jsx\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBCard, MDBCardBody, MDBIcon, MDBInput, MDBBtn } from 'mdbreact';\nimport Navbar from '../components/share/Navbar';\nimport { connect } from 'react-redux';\nimport { io } from \"socket.io-client\";\nimport { Marshalling, UnMarshalling } from '../Redux/Actions/MarshalService'; //Always instantiate this\n\nclass Deposit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      accountAmount: 0,\n      timeoutRetransmit: true\n    };\n\n    this.Deposit = () => {\n      const socket = io('http://localhost:2222/', {\n        transports: ['websocket']\n      });\n      let sendingData = {\n        AccountNo: this.state.AccountNo,\n        AccName: this.state.AccName,\n        Password: this.state.Password,\n        Currency: this.state.Currency,\n        Amount: parseFloat(this.state.Amount),\n        Mode: 1\n      };\n      let marshallData = Marshalling(sendingData);\n      socket.emit('deposit', marshallData);\n    };\n\n    this.CheckBalance = () => {\n      const sendingData = {\n        AccountNo: localStorage.getItem('AccountNo'),\n        AccName: localStorage.getItem('AccName'),\n        Password: localStorage.getItem('Password'),\n        Currency: localStorage.getItem('Currency'),\n        Mode: 1\n      };\n      const marshallData = Marshalling(sendingData);\n      socket.emit('check-balance', marshallData);\n      socket.on('check-balance-reply', data => {\n        data = UnMarshalling(data);\n        data = data['Server-Response'][0];\n        alert(data.Balance);\n        this.setState({\n          timeoutRetransmit: false\n        });\n      });\n      if (this.timeoutRetransmit) this.CheckBalance();\n    };\n\n    this.Back = () => {\n      this.props.history.push('/home');\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(MDBContainer, {\n        children: /*#__PURE__*/_jsxDEV(MDBCard, {\n          id: \"classic-card\",\n          children: /*#__PURE__*/_jsxDEV(MDBCardBody, {\n            className: \"black-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(MDBIcon, {\n                icon: \"user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 33\n              }, this), \" Deposit:\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"hr-light\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              className: \"black-text\",\n              iconClass: \"black-text\",\n              label: \"Account No\",\n              icon: \"envelope\",\n              id: \"AccountNo\",\n              type: \"number\",\n              value: this.state.AccountNo,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              className: \"black-text\",\n              iconClass: \"black-text\",\n              label: \"Account Name\",\n              icon: \"user\",\n              id: \"AccName\",\n              type: \"text\",\n              value: this.state.AccName,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              className: \"black-text\",\n              iconClass: \"black-text\",\n              label: \"Password\",\n              icon: \"lock\",\n              id: \"Password\",\n              type: \"password\",\n              value: this.state.Password,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              className: \"black-text\",\n              iconClass: \"black-text\",\n              label: \"SGD/MYR/KRW\",\n              icon: \"money-bill\",\n              id: \"Currency\",\n              type: \"text\",\n              value: this.state.Currency,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              className: \"black-text\",\n              iconClass: \"black-text\",\n              label: \"Deposit Amount\",\n              icon: \"dollar-sign\",\n              type: \"number\",\n              id: \"Amount\",\n              value: this.state.Amount,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4 black-text\",\n              children: [/*#__PURE__*/_jsxDEV(MDBBtn, {\n                color: \"dark-green\",\n                onClick: this.Deposit,\n                children: \" Deposit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                color: \"dark-green\",\n                onClick: this.CheckBalance,\n                children: \" View Balance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n                color: \"white\",\n                onClick: this.back,\n                children: \" Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"hr-light\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({});\n\nexport default connect(mapStateToProps)(Deposit);","map":{"version":3,"sources":["C:/Users/Iskandar/Downloads/CZ4013Proj/client/src/pages/Deposit.jsx"],"names":["React","Component","MDBContainer","MDBCard","MDBCardBody","MDBIcon","MDBInput","MDBBtn","Navbar","connect","io","Marshalling","UnMarshalling","Deposit","state","accountAmount","timeoutRetransmit","socket","transports","sendingData","AccountNo","AccName","Password","Currency","Amount","parseFloat","Mode","marshallData","emit","CheckBalance","localStorage","getItem","on","data","alert","Balance","setState","Back","props","history","push","handleChange","e","target","id","value","render","back","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { MDBContainer, MDBCard, MDBCardBody, MDBIcon, MDBInput, MDBBtn } from 'mdbreact'\r\nimport Navbar from '../components/share/Navbar'\r\nimport { connect } from 'react-redux'\r\nimport { io } from \"socket.io-client\"\r\nimport { Marshalling, UnMarshalling } from '../Redux/Actions/MarshalService'\r\n\r\n//Always instantiate this\r\n\r\n\r\nclass Deposit extends Component {\r\n    state = {\r\n        accountAmount: 0,\r\n        timeoutRetransmit: true,\r\n    }\r\n    Deposit = () => {\r\n        const socket = io('http://localhost:2222/', { transports: ['websocket'] })\r\n        let sendingData = {\r\n            AccountNo: this.state.AccountNo,\r\n            AccName: this.state.AccName,\r\n            Password: this.state.Password,\r\n            Currency: this.state.Currency,\r\n            Amount: parseFloat(this.state.Amount),\r\n            Mode: 1\r\n        }\r\n        let marshallData = Marshalling(sendingData)\r\n        socket.emit('deposit', marshallData)\r\n    }\r\n\r\n    CheckBalance = () => {\r\n        const sendingData = {\r\n            AccountNo: localStorage.getItem('AccountNo'),\r\n            AccName: localStorage.getItem('AccName'),\r\n            Password: localStorage.getItem('Password'),\r\n            Currency: localStorage.getItem('Currency'),\r\n            Mode: 1\r\n        }\r\n        const marshallData = Marshalling(sendingData)\r\n        socket.emit('check-balance', marshallData)\r\n\r\n        socket.on('check-balance-reply', (data) => {\r\n            data = UnMarshalling(data)\r\n            data = data['Server-Response'][0]\r\n            alert(data.Balance)\r\n            this.setState({ timeoutRetransmit: false })\r\n        })\r\n        if(this.timeoutRetransmit)\r\n            this.CheckBalance()\r\n    }\r\n\r\n    Back = () => {\r\n        this.props.history.push('/home')\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Navbar /><br />\r\n                <MDBContainer>\r\n                    <MDBCard id=\"classic-card\">\r\n                        <MDBCardBody className=\"black-text\">\r\n                            <h3 className=\"text-center\">\r\n                                <MDBIcon icon=\"user\" /> Deposit:\r\n                            </h3>\r\n                            <hr className=\"hr-light\" />\r\n                            <MDBInput\r\n                                className=\"black-text\"\r\n                                iconClass=\"black-text\"\r\n                                label=\"Account No\"\r\n                                icon=\"envelope\"\r\n                                id=\"AccountNo\"\r\n                                type=\"number\"\r\n                                value={this.state.AccountNo}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <MDBInput\r\n                                className=\"black-text\"\r\n                                iconClass=\"black-text\"\r\n                                label=\"Account Name\"\r\n                                icon=\"user\"\r\n                                id=\"AccName\"\r\n                                type=\"text\"\r\n                                value={this.state.AccName}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <MDBInput\r\n                                className=\"black-text\"\r\n                                iconClass=\"black-text\"\r\n                                label=\"Password\"\r\n                                icon=\"lock\"\r\n                                id=\"Password\"\r\n                                type=\"password\"\r\n                                value={this.state.Password}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <MDBInput\r\n                                className=\"black-text\"\r\n                                iconClass=\"black-text\"\r\n                                label=\"SGD/MYR/KRW\"\r\n                                icon=\"money-bill\"\r\n                                id=\"Currency\"\r\n                                type=\"text\"\r\n                                value={this.state.Currency}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <MDBInput\r\n                                className=\"black-text\"\r\n                                iconClass=\"black-text\"\r\n                                label=\"Deposit Amount\"\r\n                                icon=\"dollar-sign\"\r\n                                type=\"number\"\r\n                                id=\"Amount\"\r\n                                value={this.state.Amount}\r\n                                onChange={this.handleChange}\r\n                            />\r\n                            <div className=\"text-center mt-4 black-text\">\r\n                                <MDBBtn color=\"dark-green\" onClick={this.Deposit}> Deposit\r\n                                </MDBBtn>\r\n\r\n                                <MDBBtn color=\"dark-green\" onClick={this.CheckBalance}> View Balance</MDBBtn>\r\n                                <MDBBtn color=\"white\" onClick={this.back} > Back\r\n                                </MDBBtn>\r\n                                <hr className=\"hr-light\" />\r\n                            </div>\r\n                        </MDBCardBody>\r\n                    </MDBCard>\r\n                </MDBContainer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({});\r\nexport default connect(mapStateToProps,)(Deposit)"]},"metadata":{},"sourceType":"module"}